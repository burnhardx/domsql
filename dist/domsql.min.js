!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var createWithHandler=function(attribute,result){return function(content){var att=document.createAttribute(attribute);return att.value=content,result.setAttributeNode(att),result}},withHandler={get:function(target,attr){if(void 0===target[attr]){var result=createWithHandler(attr,target.result);return target[attr]=result,result}return target[attr]}},createNode=function(tag,content){var result=document.createElement(tag);return void 0!=content&&result.appendChild(document.createTextNode(content)),result.withValue=function(inputValue){return result.value=inputValue,result},result.content=function(textContent){return result.innerHTML=textContent,result},result.with=new Proxy({result:result},withHandler),result},createTagHandler=function(tag){return{id:function(domId){var result=createNode(tag);return result.setAttribute("id",domId),result},content:function(textContent){return createNode(tag,textContent)},empty:function(){return createNode(tag)}}},tagHandler={get:function(target,tag){if(void 0===target[tag]){var result=createTagHandler(tag);return target[tag]=result,result}return target[tag]}},Create=function Create(){_classCallCheck(this,Create)};module.exports=new Proxy(new Create,tagHandler)},{}],2:[function(require,module,exports){"use strict";var behaviors={remove:"Removes the Node completely from the DOM",disappear:"Adds display:none to the Node Style",invisble:"Hides the node"},Behavior=function(){var currentBehaviour=behaviors.remove;return{get:function(){return currentBehaviour},nodesWillBeRemoved:function(){currentBehaviour=behaviors.remove},nodesWillDisappear:function(){currentBehaviour=behaviors.disappear},nodesWillBeInvisible:function(){currentBehaviour=behaviors.invisble}}}();module.exports={from:function(domNode){var behaviour=this.behavior.get();behaviour==behaviors.remove?domNode.parentNode.removeChild(domNode):behaviour==behaviors.disappear?domNode.style.display="none":behaviour==behaviors.invisble&&(domNode.style.visibility="hidden")},behavior:Behavior}},{}],3:[function(require,module,exports){"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return void 0===obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":void 0===obj?"undefined":_typeof2(obj)},nodeToAppend=void 0;module.exports={intoBody:function(node){document.body.appendChild(node)},into:function(domNode){return nodeToAppend=domNode,{values:function(content){return"string"==typeof content?nodeToAppend.innerHTML=nodeToAppend.innerHTML+content:"object"==(void 0===content?"undefined":_typeof(content))&&nodeToAppend.appendChild(content),content}}}}},{}],4:[function(require,module,exports){"use strict";var transferResult=function(result){return 0==result.length?void 0:attachAfterAndBeforeHandler(1==result.length?result[0]:result)},attachAfterAndBeforeHandler=function(result){var checkPosition=function(beforeElement,expectedPosition){if(Array.isArray(result)){var filtered=result.filter(function(entry){return entry.compareDocumentPosition(beforeElement)==expectedPosition});return transferResult(filtered)}return result.compareDocumentPosition(beforeElement)==expectedPosition?result:void 0};return result.before=function(beforeElement){return checkPosition(beforeElement,4)},result.after=function(beforeElement){return checkPosition(beforeElement,2)},result},searchByInnerHTML=function(tagToSearch,query){var tags=Array.from(document.getElementsByTagName(tagToSearch)),result=tags.filter(function(tag){return null!=tag.textContent.match(query)});return transferResult(result)},searchByAttributes=function(tag,attr,operator,value){var selector=tag+"["+attr+operator+"'"+value+"']";return transferResult(Array.from(document.querySelectorAll(selector)))};module.exports=function(){return 2==arguments.length?searchByInnerHTML(arguments[0],arguments[1]):4==arguments.length?searchByAttributes(arguments[0],arguments[1],arguments[2],arguments[3]):1==arguments.length?document.querySelector(arguments[0]):void 0}},{}],5:[function(require,module,exports){"use strict";var selectCommand=require("./searchInDOM"),createAttributeHandler=function(tag,attr){return{contains:function(query){return selectCommand(tag,attr,"*=",query)},startsWith:function(query){return selectCommand(tag,attr,"^⁼",query)},endsWith:function(query){return selectCommand(tag,attr,"$=",query)},is:function(query){return selectCommand(tag,attr,"=",query)}}},createTagHandler=function(tag){var whereHandler={get:function(target,attribute){if(void 0===target[attribute]){var result=createAttributeHandler(target.tag,attribute);return target[attribute]=result,result}return target[attribute]}};return{all:function(){return Array.from(document.getElementsByTagName(tag))},byInnerHTML:function(query){return selectCommand(tag,query)},where:new Proxy({tag:tag},whereHandler),byId:function(query){return document.querySelector(tag+"[id="+query+"]")}}},selectHandler={get:function(target,attribute){if(void 0===target[attribute]){var result=createTagHandler(attribute);return target[attribute]=result,result}return target[attribute]}};module.exports=new Proxy({},selectHandler)},{"./searchInDOM":4}],6:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var contentToUpdate=void 0,updateContent=function(content,attr){return contentToUpdate=content,{where:function(domNode){domNode[attr]=contentToUpdate}}},updateStyle=function(style,attr){return contentToUpdate=style,{where:function(domNode){domNode.style[attr]=contentToUpdate}}},updateClass=function(className,operation){return contentToUpdate=className,{where:function(domNode){domNode.classList[operation](contentToUpdate)}}},updateAttribute=function(attribute,value){return contentToUpdate=value,{where:function(domNode){domNode.setAttribute(attribute,contentToUpdate)}}},updateEventListener=function(event,handler){return contentToUpdate=handler,{where:function(domNode){domNode.addEventListener(event,handler)}}},style={},createStyleHandler=function(nameOfStyle){return function(contentToUpdate){return updateStyle(contentToUpdate,nameOfStyle)}},styleHandler={get:function(target,style){if(void 0===target[style]){var result=createStyleHandler(style);return target[style]=result,result}return target[style]}},createEventHandler=function(_event){return{event:function(handler){return updateEventListener(_event,handler)}}},eventHandler={get:function(target,event){if(void 0===target[event]){var result=createEventHandler(event);return target[event]=result,result}return target[event]}},attributes={},createAttributeHandler=function(attr){return{set:function(contentToUpdate){return updateAttribute(attr,contentToUpdate)}}},attributeHandler={get:function(target,attr){if(void 0===target[attr]){var result=createAttributeHandler(attr);return target[attr]=result,result}return target[attr]}},Update=function Update(){_classCallCheck(this,Update),this.attribute=new Proxy(attributes,attributeHandler),this.style=new Proxy(style,styleHandler),this.set={innerHTML:function(contentToUpdate){return updateContent(contentToUpdate,"innerHTML")},value:function(contentToUpdate){return updateContent(contentToUpdate,"value")}},this.class={add:function(className){return updateClass(className,"add")},remove:function(className){return updateClass(className,"remove")},toggle:function(className){return updateClass(className,"toggle")}}};module.exports=new Proxy(new Update,eventHandler)},{}],7:[function(require,module,exports){"use strict";var search=require("./searchInDOM"),fetchResult=function(args){return new Promise(function(resolve){var checkExist=setInterval(function(){var result=search(args);null!=result&&(clearInterval(checkExist),resolve(result))},50)})},wait=function(){var args=Object.values(arguments).map(function(arg){return arg+""});return fetchResult(args)};module.exports=wait},{"./searchInDOM":4}],8:[function(require,module,exports){(function(global){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var updateCommand=(require("./commands/select"),require("./commands/update")),insertCommand=require("./commands/insert"),deleteCommand=require("./commands/delete"),createCommand=require("./commands/create"),wrapper=(require("./commands/waitFor"),require("./wrapTagsAndAttributes")),DomSQL=function DomSQL(){_classCallCheck(this,DomSQL),this.select=wrapper(require("./commands/searchInDOM")),this.insert=insertCommand,this.update=updateCommand,this.delete=deleteCommand,this.create=createCommand,this.waitFor=wrapper(require("./commands/waitFor")),this.useZombie=function(browser){return void 0!==browser.visit&&(browser.visitOld=browser.visit,browser.visit=function(uri){return browser.visitOld(uri).then(function(data){return global.document=browser.document.body,data})}),browser}},testClass=new DomSQL;module.exports=testClass,"undefined"!=typeof window&&(window.domsql=testClass)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./commands/create":1,"./commands/delete":2,"./commands/insert":3,"./commands/searchInDOM":4,"./commands/select":5,"./commands/update":6,"./commands/waitFor":7,"./wrapTagsAndAttributes":9}],9:[function(require,module,exports){"use strict";var wrapper=function(selectCommand){var createAttributeHandler=function(tag,attr){return{contains:function(query){return selectCommand(tag,attr,"*=",query)},startsWith:function(query){return selectCommand(tag,attr,"^⁼",query)},endsWith:function(query){return selectCommand(tag,attr,"$=",query)},is:function(query){return selectCommand(tag,attr,"=",query)}}},createTagHandler=function(tag){var whereHandler={get:function(target,attribute){if(void 0===target[attribute]){var result=createAttributeHandler(target.tag,attribute);return target[attribute]=result,result}return target[attribute]}};return{all:function(){return Array.from(document.getElementsByTagName(tag))},byInnerHTML:function(query){return selectCommand(tag,query)},where:new Proxy({tag:tag},whereHandler),byId:function(query){return selectCommand(tag+"[id="+query+"]")}}},selectHandler={get:function(target,attribute){if(void 0===target[attribute]){var result=createTagHandler(attribute);return target[attribute]=result,result}return target[attribute]}};return new Proxy({},selectHandler)};module.exports=wrapper},{}]},{},[8]);
